(this["webpackJsonpreact-hooks-crud"]=this["webpackJsonpreact-hooks-crud"]||[]).push([[0],{72:function(t,e,c){},75:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c(20),s=c.n(n),r=c(14),o=c(2),i=(c(42),c(43),c(44),c(12)),l=c(3),u=c(9),j=c(32),d=c.n(j).a.create({baseURL:"http://localhost:3001",headers:{"Content-type":"application/json"}}),b=function(){return d.get("/posts")},h=function(t){return d.get("/posts/".concat(t))},O=function(t){return d.post("/posts",t)},m=function(t,e){return d.put("/posts/".concat(t),e)},f=function(t){return d.delete("/posts/".concat(t))},x=c(0),p=function(){var t={id:null,title:"",author:""},e=Object(a.useState)(t),c=Object(u.a)(e,2),n=c[0],s=c[1],r=Object(a.useState)(!1),o=Object(u.a)(r,2),j=o[0],d=o[1],b=function(t){var e=t.target,c=e.name,a=e.value;s(Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},c,a)))};return Object(x.jsx)("div",{className:"submit-form",children:j?Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{children:"You submitted successfully!"}),Object(x.jsx)("button",{className:"btn btn-success",onClick:function(){s(t),d(!1)},children:"Add"})]}):Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"title",children:"Title"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:n.title,onChange:b,name:"title"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"author",children:"Author"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"author",required:!0,value:n.author,onChange:b,name:"author"})]}),Object(x.jsx)("div",{className:"btn-css",children:Object(x.jsx)("button",{onClick:function(){var t={title:n.title,author:n.author};O(t).then((function(t){s({id:t.data.id,title:t.data.title,author:t.data.author}),d(!0),console.log(t.data)})).catch((function(t){console.log(t)}))},className:"btn btn-success",children:"Submit"})})]})})},v=function(t){var e=Object(a.useState)({id:null,title:"",author:""}),c=Object(u.a)(e,2),n=c[0],s=c[1],r=Object(a.useState)(""),o=Object(u.a)(r,2),j=o[0],d=o[1];Object(a.useEffect)((function(){var e;e=t.match.params.id,h(e).then((function(t){s(t.data),console.log(t.data)})).catch((function(t){console.log(t)}))}),[t.match.params.id]);var b=function(t){var e=t.target,c=e.name,a=e.value;s(Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},c,a)))};return Object(x.jsx)("div",{children:n?Object(x.jsxs)("div",{className:"edit-form",children:[Object(x.jsx)("h4",{children:"Tutorial"}),Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"title",children:"Title"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:n.title,onChange:b})]})}),Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"author",children:"Author"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"author",name:"author",value:n.author,onChange:b})]})}),Object(x.jsx)("div",{className:"btn-css",children:Object(x.jsx)("button",{type:"submit",className:"btn btn-success",onClick:function(){m(n.id,n).then((function(e){console.log(e.data),d("The tutorial was updated successfully!"),t.history.push("/tutorials")})).catch((function(t){console.log(t)}))},children:"Update"})}),Object(x.jsx)("p",{children:j})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsx)("p",{children:"Please click on a Tutorial..."})]})})},g=c(37),N=c(33),C=(c(68),c(34)),k=function(t){var e=Object(a.useState)([]),c=Object(u.a)(e,2),n=c[0],s=c[1],r=Object(a.useRef)();r.current=n,Object(a.useEffect)((function(){o()}),[]);var o=function(){b().then((function(t){s(t.data)})).catch((function(t){console.log(t)}))},i=function(e){var c=r.current[e].id;t.history.push("/tutorials/"+c)},j=function(e){Object(N.confirmAlert)({title:"Confirm to delete",message:"Are you sure to do this.",buttons:[{label:"Yes",onClick:function(){var c=r.current[e].id;f(c).then((function(c){t.history.push("/tutorials");var a=Object(g.a)(r.current);a.splice(e,1),s(a)})).catch((function(t){console.log(t)}))}},{label:"No",onClick:function(){}}]})},d=Object(a.useMemo)((function(){return[{Header:"Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Author",accessor:"author"},{Header:"Actions",accessor:"actions",Cell:function(t){var e=t.row.id;return Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{onClick:function(){return i(e)},children:Object(x.jsx)("i",{className:"far fa-edit action mr-2"})}),Object(x.jsx)("span",{onClick:function(){return j(e)},children:Object(x.jsx)("i",{className:"fas fa-trash action"})})]})}}]}),[]),h=Object(C.useTable)({columns:d,data:n}),O=h.getTableProps,m=h.getTableBodyProps,p=h.headerGroups,v=h.rows,k=h.prepareRow;return Object(x.jsx)("div",{className:"list row",children:Object(x.jsx)("div",{className:"col-md-12 list",children:Object(x.jsxs)("table",Object(l.a)(Object(l.a)({className:"table table-striped table-bordered"},O()),{},{children:[Object(x.jsx)("thead",{children:p.map((function(t){return Object(x.jsx)("tr",Object(l.a)(Object(l.a)({},t.getHeaderGroupProps()),{},{children:t.headers.map((function(t){return Object(x.jsx)("th",Object(l.a)(Object(l.a)({},t.getHeaderProps()),{},{children:t.render("Header")}))}))}))}))}),Object(x.jsx)("tbody",Object(l.a)(Object(l.a)({},m()),{},{children:v.map((function(t,e){return k(t),Object(x.jsx)("tr",Object(l.a)(Object(l.a)({},t.getRowProps()),{},{children:t.cells.map((function(t){return Object(x.jsx)("td",Object(l.a)(Object(l.a)({},t.getCellProps()),{},{children:t.render("Cell")}))}))}))}))}))]}))})})};c(72);var y=function(){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(x.jsx)("a",{href:"/tutorials",className:"navbar-brand",children:"CRUD Operation"}),Object(x.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(r.b,{to:"/tutorials",className:"nav-link",children:"Tutorials"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(r.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(x.jsx)("div",{className:"container mt-3",children:Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{exact:!0,path:["/","/tutorials"],component:k}),Object(x.jsx)(o.a,{exact:!0,path:"/add",component:p}),Object(x.jsx)(o.a,{path:"/tutorials/:id",component:v})]})})]})},T=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,76)).then((function(e){var c=e.getCLS,a=e.getFID,n=e.getFCP,s=e.getLCP,r=e.getTTFB;c(t),a(t),n(t),s(t),r(t)}))};s.a.render(Object(x.jsx)(r.a,{children:Object(x.jsx)(y,{})}),document.getElementById("root")),T()}},[[75,1,2]]]);
//# sourceMappingURL=main.6f095b0a.chunk.js.map